!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).MemoTalk=e()}(this,(function(){"use strict";var n=Array.isArray,e=Array.from,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,o=Object.prototype,i=Array.prototype,u=Object.getPrototypeOf;const a=()=>{};function s(n){return n()}function f(n){for(var e=0;e<n.length;e++)n[e]()}const c=32,v=256,d=512,p=1024,h=2048,m=4096,g=8192,y=16384,_=65536,b=1<<20,w=Symbol("$state"),x=Symbol("legacy props"),S=Symbol("");function k(n){return n===this.v}function E(n,e){return n!=n?e==e:n!==e||null!==n&&"object"==typeof n||"function"==typeof n}function O(n){return!E(n,this.v)}let $=!1;const N=Symbol();function j(n,e){return{f:0,v:n,reactions:null,equals:k,version:0}}function M(n){return T(j(n))}function P(n,e=!1){var t;const r=j(n);return e||(r.equals=O),$&&null!==In&&null!==In.l&&((t=In.l).s??(t.s=[])).push(r),r}function T(n){return null!==Pn&&2&Pn.f&&(null===Dn?Dn=[n]:Dn.push(n)),n}function A(n,e){return null!==Pn&&Vn()&&18&Pn.f&&(null===Dn||!Dn.includes(n))&&function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),C(n,e)}function C(n,e){return n.equals(e)||(n.v=e,n.version=Jn(),D(n,h),Vn()&&null!==An&&An.f&p&&!(An.f&c)&&(null!==Ln&&Ln.includes(n)?(le(An,h),Xn(An)):null===Rn?function(n){Rn=n}([n]):Rn.push(n))),e}function D(n,e){var t=n.reactions;if(null!==t)for(var r=Vn(),l=t.length,o=0;o<l;o++){var i=t[o],u=i.f;u&h||(r||i!==An)&&(le(i,e),1280&u&&(2&u?D(i,m):Xn(i)))}}let L=!1;function q(e,t=null,l){if("object"!=typeof e||null===e||w in e)return e;const a=u(e);if(a!==o&&a!==i)return e;var s,f=new Map,c=n(e),v=j(0);return c&&f.set("length",j(e.length)),new Proxy(e,{defineProperty(n,e,t){"value"in t&&!1!==t.configurable&&!1!==t.enumerable&&!1!==t.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var r=f.get(e);return void 0===r?(r=j(t.value),f.set(e,r)):A(r,q(t.value,s)),!0},deleteProperty(n,e){var t=f.get(e);if(void 0===t)e in n&&f.set(e,j(N));else{if(c&&"string"==typeof e){var r=f.get("length"),l=Number(e);Number.isInteger(l)&&l<r.v&&A(r,l)}A(t,N),R(v)}return!0},get(n,t,l){var o;if(t===w)return e;var i=f.get(t),u=t in n;if(void 0!==i||u&&!(null==(o=r(n,t))?void 0:o.writable)||(i=j(q(u?n[t]:N,s)),f.set(t,i)),void 0!==i){var a=ee(i);return a===N?void 0:a}return Reflect.get(n,t,l)},getOwnPropertyDescriptor(n,e){var t=Reflect.getOwnPropertyDescriptor(n,e);if(t&&"value"in t){var r=f.get(e);r&&(t.value=ee(r))}else if(void 0===t){var l=f.get(e),o=null==l?void 0:l.v;if(void 0!==l&&o!==N)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return t},has(n,e){var t;if(e===w)return!0;var l=f.get(e),o=void 0!==l&&l.v!==N||Reflect.has(n,e);if((void 0!==l||null!==An&&(!o||(null==(t=r(n,e))?void 0:t.writable)))&&(void 0===l&&(l=j(o?q(n[e],s):N),f.set(e,l)),ee(l)===N))return!1;return o},set(n,e,t,l){var o,i=f.get(e),u=e in n;if(c&&"length"===e)for(var a=t;a<i.v;a+=1){var d=f.get(a+"");void 0!==d?A(d,N):a in n&&(d=j(N),f.set(a+"",d))}void 0===i?u&&!(null==(o=r(n,e))?void 0:o.writable)||(A(i=j(void 0),q(t,s)),f.set(e,i)):(u=i.v!==N,A(i,q(t,s)));var p=Reflect.getOwnPropertyDescriptor(n,e);if((null==p?void 0:p.set)&&p.set.call(l,t),!u){if(c&&"string"==typeof e){var h=f.get("length"),m=Number(e);Number.isInteger(m)&&m>=h.v&&A(h,m+1)}R(v)}return!0},ownKeys(n){ee(v);var e=Reflect.ownKeys(n).filter((n=>{var e=f.get(n);return void 0===e||e.v!==N}));for(var[t,r]of f)r.v===N||t in n||e.push(t);return e},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function R(n,e=1){A(n,n.v+e)}var z,F,I;function J(n=""){return document.createTextNode(n)}function V(n){return F.call(n)}function B(n){return I.call(n)}function H(n,e){return V(n)}function K(n,e){var t=V(n);return t instanceof Comment&&""===t.data?B(t):t}function W(n,e=1,t=!1){let r=n;for(;e--;)r=B(r);return r}function Z(n){var e=2050;null===An?e|=v:An.f|=b;var t=null!==Pn&&2&Pn.f?Pn:null;const r={children:null,ctx:In,deps:null,equals:k,f:e,fn:n,reactions:null,v:null,version:0,parent:t??An};return null!==t&&(t.children??(t.children=[])).push(r),r}function U(n){const e=Z(n);return e.equals=O,e}function Y(n){var e=n.children;if(null!==e){n.children=null;for(var t=0;t<e.length;t+=1){var r=e[t];2&r.f?X(r):vn(r)}}}function G(n){var e,t=An;Cn(function(n){for(var e=n.parent;null!==e;){if(!(2&e.f))return e;e=e.parent}return null}(n));try{Y(n),e=Kn(n)}finally{Cn(t)}return e}function Q(n){var e=G(n);le(n,(Fn||n.f&v)&&null!==n.deps?m:p),n.equals(e)||(n.v=e,n.version=Jn())}function X(n){Y(n),Zn(n,0),le(n,y),n.v=n.children=n.deps=n.ctx=n.reactions=null}function nn(n){null===An&&null===Pn&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),null!==Pn&&Pn.f&v&&function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),On&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function en(n,e,t,r=!0){var l=!!(64&n),o=An,i={ctx:In,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:n|h,first:null,fn:e,last:null,next:null,parent:l?null:o,prev:null,teardown:null,transitions:null,version:0};if(t){var u=En;try{$n(!0),Un(i),i.f|=32768}catch(s){throw vn(i),s}finally{$n(u)}}else null!==e&&Xn(i);if(!(t&&null===i.deps&&null===i.first&&null===i.nodes_start&&null===i.teardown&&!(i.f&b))&&!l&&r&&(null!==o&&function(n,e){var t=e.last;null===t?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}(i,o),null!==Pn&&2&Pn.f)){var a=Pn;(a.children??(a.children=[])).push(i)}return i}function tn(n){if(nn(),!(null!==An&&!!(An.f&c)&&null!==In&&!In.m))return rn(n);var e=In;(e.e??(e.e=[])).push({fn:n,effect:An,reaction:Pn})}function rn(n){return en(4,n,!1)}function ln(n){return en(8,n,!0)}function on(n){return un(n)}function un(n,e=0){return en(24|e,n,!0)}function an(n,e=!0){return en(40,n,!0,e)}function sn(n){var e=n.teardown;if(null!==e){const n=On,t=Pn;Nn(!0),Tn(null);try{e.call(null)}finally{Nn(n),Tn(t)}}}function fn(n){var e=n.deriveds;if(null!==e){n.deriveds=null;for(var t=0;t<e.length;t+=1)X(e[t])}}function cn(n,e=!1){var t=n.first;for(n.first=n.last=null;null!==t;){var r=t.next;vn(t,e),t=r}}function vn(n,e=!0){var t=!1;if((e||524288&n.f)&&null!==n.nodes_start){for(var r=n.nodes_start,l=n.nodes_end;null!==r;){var o=r===l?null:B(r);r.remove(),r=o}t=!0}cn(n,e&&!t),fn(n),Zn(n,0),le(n,y);var i=n.transitions;if(null!==i)for(const a of i)a.stop();sn(n);var u=n.parent;null!==u&&null!==u.first&&dn(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function dn(n){var e=n.parent,t=n.prev,r=n.next;null!==t&&(t.next=r),null!==r&&(r.prev=t),null!==e&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function pn(n,e){var t=[];mn(n,t,!0),hn(t,(()=>{vn(n),e&&e()}))}function hn(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var l of n)l.out(r)}else e()}function mn(n,e,t){if(!(n.f&g)){if(n.f^=g,null!==n.transitions)for(const r of n.transitions)(r.is_global||t)&&e.push(r);for(var r=n.first;null!==r;){var l=r.next;mn(r,e,!!(!!(r.f&_)||!!(r.f&c))&&t),r=l}}}function gn(n){yn(n,!0)}function yn(n,e){if(n.f&g){Bn(n)&&Un(n),n.f^=g;for(var t=n.first;null!==t;){var r=t.next;yn(t,!!(!!(t.f&_)||!!(t.f&c))&&e),t=r}if(null!==n.transitions)for(const t of n.transitions)(t.is_global||e)&&t.in()}}let _n=!1,bn=[];function wn(){_n=!1;const n=bn.slice();bn=[],f(n)}let xn=!1,Sn=!1,kn=null,En=!1,On=!1;function $n(n){En=n}function Nn(n){On=n}let jn=[],Mn=0,Pn=null;function Tn(n){Pn=n}let An=null;function Cn(n){An=n}let Dn=null;let Ln=null,qn=0,Rn=null;let zn=1,Fn=!1,In=null;function Jn(){return++zn}function Vn(){return!$||null!==In&&null===In.l}function Bn(n){var e,t,r=n.f;if(r&h)return!0;if(r&m){var l=n.deps,o=!!(r&v);if(null!==l){var i;if(r&d){for(i=0;i<l.length;i++)((e=l[i]).reactions??(e.reactions=[])).push(n);n.f^=d}for(i=0;i<l.length;i++){var u=l[i];if(Bn(u)&&Q(u),!o||null===An||Fn||(null==(t=null==u?void 0:u.reactions)?void 0:t.includes(n))||(u.reactions??(u.reactions=[])).push(n),u.version>n.version)return!0}}o&&(null===An||Fn)||le(n,p)}return!1}function Hn(n,e,t,r){if(xn){if(null===t&&(xn=!1),function(n){return!(n.f&y||null!==n.parent&&128&n.parent.f)}(e))throw n}else null!==t&&(xn=!0),function(n,e){for(var t=e;null!==t;){if(128&t.f)try{return void t.fn(n)}catch{t.f^=128}t=t.parent}throw xn=!1,n}(n,e)}function Kn(n){var e,t=Ln,r=qn,l=Rn,o=Pn,i=Fn,u=Dn,a=In,s=n.f;Ln=null,qn=0,Rn=null,Pn=96&s?null:n,Fn=!En&&!!(s&v),Dn=null,In=n.ctx;try{var f=(0,n.fn)(),c=n.deps;if(null!==Ln){var d;if(Zn(n,qn),null!==c&&qn>0)for(c.length=qn+Ln.length,d=0;d<Ln.length;d++)c[qn+d]=Ln[d];else n.deps=c=Ln;if(!Fn)for(d=qn;d<c.length;d++)((e=c[d]).reactions??(e.reactions=[])).push(n)}else null!==c&&qn<c.length&&(Zn(n,qn),c.length=qn);return f}finally{Ln=t,qn=r,Rn=l,Pn=o,Fn=i,Dn=u,In=a}}function Wn(n,e){let t=e.reactions;if(null!==t){var r=t.indexOf(n);if(-1!==r){var l=t.length-1;0===l?t=e.reactions=null:(t[r]=t[l],t.pop())}}null===t&&2&e.f&&(null===Ln||!Ln.includes(e))&&(le(e,m),768&e.f||(e.f^=d),Zn(e,0))}function Zn(n,e){var t=n.deps;if(null!==t)for(var r=e;r<t.length;r++)Wn(n,t[r])}function Un(n){var e=n.f;if(!(e&y)){le(n,p);var t=An,r=In;An=n;try{16&e?function(n){for(var e=n.first;null!==e;){var t=e.next;e.f&c||vn(e),e=t}}(n):cn(n),fn(n),sn(n);var l=Kn(n);n.teardown="function"==typeof l?l:null,n.version=zn}catch(o){Hn(o,n,t,r||n.ctx)}finally{An=t}}}function Yn(){if(Mn>1e3){Mn=0;try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(n){if(null===kn)throw n;Hn(n,kn,null)}}Mn++}function Gn(n){var e=n.length;if(0!==e)for(var t=0;t<e;t++){var r=n[t];if(!(24576&r.f))try{Bn(r)&&(Un(r),null===r.deps&&null===r.first&&null===r.nodes_start&&(null===r.teardown?dn(r):r.fn=null))}catch(l){Hn(l,r,null,r.ctx)}}}function Qn(){if(Sn=!1,Mn>1001)return;const n=jn;jn=[],function(n){var e=n.length;if(0!==e){Yn();var t=En;En=!0;try{for(var r=0;r<e;r++){var l=n[r];l.f&p||(l.f^=p);var o=[];ne(l,o),Gn(o)}}finally{En=t}}}(n),Sn||(Mn=0,kn=null)}function Xn(n){Sn||(Sn=!0,queueMicrotask(Qn)),kn=n;for(var e=n;null!==e.parent;){var t=(e=e.parent).f;if(96&t){if(!(t&p))return;e.f^=p}}jn.push(e)}function ne(n,e){var t=n.first,r=[];n:for(;null!==t;){var l=t.f,o=!!(l&c),i=o&&!!(l&p),u=t.next;if(!(i||l&g))if(8&l){if(o)t.f^=p;else try{Bn(t)&&Un(t)}catch(v){Hn(v,t,null,t.ctx)}var a=t.first;if(null!==a){t=a;continue}}else 4&l&&r.push(t);if(null===u){let e=t.parent;for(;null!==e;){if(n===e)break n;var s=e.next;if(null!==s){t=s;continue n}e=e.parent}}t=u}for(var f=0;f<r.length;f++)a=r[f],e.push(a),ne(a,e)}function ee(n){var e,t=n.f,r=!!(2&t);if(r&&t&y){var l=G(n);return X(n),l}if(null!==Pn){null!==Dn&&Dn.includes(n)&&function(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}();var o=Pn.deps;null===Ln&&null!==o&&o[qn]===n?qn++:null===Ln?Ln=[n]:Ln.push(n),null!==Rn&&null!==An&&An.f&p&&!(An.f&c)&&Rn.includes(n)&&(le(An,h),Xn(An))}else if(r&&null===n.deps)for(var i=n,u=i.parent,a=i;null!==u;){if(!(2&u.f)){var s=u;(null==(e=s.deriveds)?void 0:e.includes(a))||(s.deriveds??(s.deriveds=[])).push(a);break}a=u,u=u.parent}return r&&Bn(i=n)&&Q(i),n.v}function te(n){const e=Pn;try{return Pn=null,n()}finally{Pn=e}}const re=-7169;function le(n,e){n.f=n.f&re|e}function oe(n,e=!1,t){In={p:In,c:null,e:null,m:!1,s:n,x:null,l:null},$&&!e&&(In.l={s:null,u:null,r1:[],r2:j(!1)})}function ie(n){const e=In;if(null!==e){const n=e.e;if(null!==n){var t=An,r=Pn;e.e=null;try{for(var l=0;l<n.length;l++){var o=n[l];Cn(o.effect),Tn(o.reaction),rn(o.fn)}}finally{Cn(t),Tn(r)}}In=e.p,e.m=!0}return{}}function ue(n,e=new Set){if(!("object"!=typeof n||null===n||n instanceof EventTarget||e.has(n))){e.add(n),n instanceof Date&&n.getTime();for(let l in n)try{ue(n[l],e)}catch(t){}const r=u(n);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const e=l(r);for(let r in e){const l=e[r].get;if(l)try{l.call(n)}catch(t){}}}}}const ae=["touchstart","touchmove"];function se(n){return ae.includes(n)}let fe=!1;function ce(n,e,t,r=t){n.addEventListener(e,(()=>function(n){var e=Pn,t=An;Tn(null),Cn(null);try{return n()}finally{Tn(e),Cn(t)}}(t)));const l=n.__on_r;n.__on_r=l?()=>{l(),r(!0)}:()=>r(!0),fe||(fe=!0,document.addEventListener("reset",(n=>{Promise.resolve().then((()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)null==(e=t.__on_r)||e.call(t)}))}),{capture:!0}))}const ve=new Set,de=new Set;function pe(n){for(var e=0;e<n.length;e++)ve.add(n[e]);for(var t of de)t(n)}function he(e){var r,l=this,o=l.ownerDocument,i=e.type,u=(null==(r=e.composedPath)?void 0:r.call(e))||[],a=u[0]||e.target,s=0,f=e.__root;if(f){var c=u.indexOf(f);if(-1!==c&&(l===document||l===window))return void(e.__root=l);var v=u.indexOf(l);if(-1===v)return;c<=v&&(s=c)}if((a=u[s]||e.target)!==l){t(e,"currentTarget",{configurable:!0,get:()=>a||o});var d=Pn,p=An;Tn(null),Cn(null);try{for(var h,m=[];null!==a;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var y=a["__"+i];if(void 0!==y&&!a.disabled)if(n(y)){var[_,...b]=y;_.apply(a,[e,...b])}else y.call(a,e)}catch(w){h?m.push(w):h=w}if(e.cancelBubble||g===l||null===g)break;a=g}if(h){for(let n of m)queueMicrotask((()=>{throw n}));throw h}}finally{e.__root=l,delete e.currentTarget,Tn(d),Cn(p)}}}function me(n,e){var t=An;null===t.nodes_start&&(t.nodes_start=n,t.nodes_end=e)}function ge(n,e){var t,r=!!(1&e),l=!!(2&e),o=!n.startsWith("<!>");return()=>{var e,i;void 0===t&&(e=o?n:"<!>"+n,(i=document.createElement("template")).innerHTML=e,t=i.content,r||(t=V(t)));var u=l?document.importNode(t,!0):t.cloneNode(!0);r?me(V(u),u.lastChild):me(u,u);return u}}function ye(n,e){null!==n&&n.before(e)}function _e(n,e){var t=null==e?"":"object"==typeof e?e+"":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=null==t?"":t+"")}function be(n,t){return function(n,{target:t,anchor:l,props:o={},events:i,context:u,intro:a=!0}){!function(){if(void 0===z){z=window;var n=Element.prototype,e=Node.prototype;F=r(e,"firstChild").get,I=r(e,"nextSibling").get,n.__click=void 0,n.__className="",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}();var s=new Set,f=n=>{for(var e=0;e<n.length;e++){var r=n[e];if(!s.has(r)){s.add(r);var l=se(r);t.addEventListener(r,he,{passive:l});var o=we.get(r);void 0===o?(document.addEventListener(r,he,{passive:l}),we.set(r,1)):we.set(r,o+1)}}};f(e(ve)),de.add(f);var c=void 0,v=function(n){const e=en(64,n,!0);return(n={})=>new Promise((t=>{n.outro?pn(e,(()=>{vn(e),t(void 0)})):(vn(e),t(void 0))}))}((()=>{var e=l??t.appendChild(J());return an((()=>{u&&(oe({}),In.c=u);i&&(o.$$events=i),c=n(e,o)||{},u&&ie()})),()=>{var n;for(var r of s){t.removeEventListener(r,he);var o=we.get(r);0==--o?(document.removeEventListener(r,he),we.delete(r)):we.set(r,o)}de.delete(f),e!==l&&(null==(n=e.parentNode)||n.removeChild(e))}}));return xe.set(c,v),c}(n,t)}const we=new Map;let xe=new WeakMap;function Se(n,e,t=!1){var r=n,l=null,o=null,i=N,u=!1;const a=(n,e=!0)=>{u=!0,s(e,n)},s=(n,e)=>{i!==(i=n)&&(i?(l?gn(l):e&&(l=an((()=>e(r)))),o&&pn(o,(()=>{o=null}))):(o?gn(o):e&&(o=an((()=>e(r)))),l&&pn(l,(()=>{l=null}))))};un((()=>{u=!1,e(a),u||s(null,null)}),t?_:0)}function ke(n,e){return e}function Ee(t,r,l,o,i,u=null){var a=t,s={flags:r,items:new Map,first:null};!(4&r)||(a=t.appendChild(J()));var f=null,c=!1;un((()=>{var t=l(),v=n(t)?t:null==t?[]:e(t),d=v.length;c&&0===d||(c=0===d,function(n,t,r,l,o,i,u){var a,s,f,c,v,d,p,h,m,y,_=!!(8&o),b=!!(3&o),w=n.length,x=t.items,S=t.first,k=S,E=null,O=[],$=[];if(_)for(y=0;y<w;y+=1)h=u(p=n[y],y),void 0!==(m=x.get(h))&&(null==(a=m.a)||a.measure(),(d??(d=new Set)).add(m));for(y=0;y<w;y+=1)if(h=u(p=n[y],y),void 0!==(m=x.get(h))){if(b&&Oe(m,p,y,o),m.e.f&g&&(gn(m.e),_&&(null==(s=m.a)||s.unfix(),(d??(d=new Set)).delete(m))),m!==k){if(void 0!==v&&v.has(m)){if(O.length<$.length){var N,j=$[0];E=j.prev;var M=O[0],P=O[O.length-1];for(N=0;N<O.length;N+=1)Ne(O[N],j,r);for(N=0;N<$.length;N+=1)v.delete($[N]);je(t,M.prev,P.next),je(t,E,M),je(t,P,j),k=j,E=P,y-=1,O=[],$=[]}else v.delete(m),Ne(m,k,r),je(t,m.prev,m.next),je(t,m,null===E?t.first:E.next),je(t,E,m),E=m;continue}for(O=[],$=[];null!==k&&k.k!==h;)!i&&k.e.f&g||(v??(v=new Set)).add(k),$.push(k),k=k.next;if(null===k)continue;m=k}O.push(m),E=m,k=m.next}else{E=$e(k?k.e.nodes_start:r,t,E,null===E?t.first:E.next,p,h,y,l,o),x.set(h,E),O=[],$=[],k=E.next}if(null!==k||void 0!==v){for(var T=void 0===v?[]:e(v);null!==k;)!i&&k.e.f&g||T.push(k),k=k.next;var A=T.length;if(A>0){var C=4&o&&0===w?r:null;if(_){for(y=0;y<A;y+=1)null==(f=T[y].a)||f.measure();for(y=0;y<A;y+=1)null==(c=T[y].a)||c.fix()}!function(n,e,t,r){for(var l=[],o=e.length,i=0;i<o;i++)mn(e[i].e,l,!0);var u=o>0&&0===l.length&&null!==t;if(u){var a=t.parentNode;a.textContent="",a.append(t),r.clear(),je(n,e[0].prev,e[o-1].next)}hn(l,(()=>{for(var t=0;t<o;t++){var l=e[t];u||(r.delete(l.k),je(n,l.prev,l.next)),vn(l.e,!u)}}))}(t,T,C,x)}}_&&(D=()=>{var n;if(void 0!==d)for(m of d)null==(n=m.a)||n.apply()},_n||(_n=!0,queueMicrotask(wn)),bn.push(D));var D;An.first=t.first&&t.first.e,An.last=E&&E.e}(v,s,a,i,r,!!(Pn.f&g),o),null!==u&&(0===d?f?gn(f):f=an((()=>u(a))):null!==f&&pn(f,(()=>{f=null}))),l())}))}function Oe(n,e,t,r){1&r&&C(n.v,e),2&r?C(n.i,t):n.i=t}function $e(n,e,t,r,l,o,i,u,a,s){var f=!!(1&a)?!(16&a)?P(l):j(l):l,c=2&a?j(i):i,v={i:c,v:f,k:o,a:null,e:null,prev:t,next:r};try{return v.e=an((()=>u(n,f,c)),L),v.e.prev=t&&t.e,v.e.next=r&&r.e,null===t?e.first=v:(t.next=v,t.e.next=v.e),null!==r&&(r.prev=v,r.e.prev=v.e),v}finally{}}function Ne(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,l=e?e.e.nodes_start:t,o=n.e.nodes_start;o!==r;){var i=B(o);l.before(o),o=i}}function je(n,e,t){null===e?n.first=t:(e.next=t,e.e.next=t&&t.e),null!==t&&(t.prev=e,t.e.prev=e&&e.e)}function Me(n,e,t,r){var o=n.__attributes??(n.__attributes={});o[e]!==(o[e]=t)&&("style"===e&&"__styles"in n&&(n.__styles={}),"loading"===e&&(n[S]=t),null==t?n.removeAttribute(e):"string"!=typeof t&&function(n){var e,t=Pe.get(n.nodeName);if(t)return t;Pe.set(n.nodeName,t=[]);var r=n,o=Element.prototype;for(;o!==r;){for(var i in e=l(r))e[i].set&&t.push(i);r=u(r)}return t}(n).includes(e)?n[e]=t:n.setAttribute(e,t))}var Pe=new Map;function Te(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function Ae(n,e,t=e){var r=Vn();ce(n,"input",(l=>{var o=l?n.defaultValue:n.value;if(o=Ce(n)?De(o):o,t(o),r&&o!==(o=e())){var i=n.selectionStart,u=n.selectionEnd;n.value=o??"",null!==u&&(n.selectionStart=i,n.selectionEnd=Math.min(u,n.value.length))}})),null==te(e)&&n.value&&t(Ce(n)?De(n.value):n.value),ln((()=>{var t=e();Ce(n)&&t===De(n.value)||("date"!==n.type||t||n.value)&&t!==n.value&&(n.value=t??"")}))}function Ce(n){var e=n.type;return"number"===e||"range"===e}function De(n){return""===n?null:+n}function Le(n=!1){const e=In,t=e.l.u;if(!t)return;let r=()=>function(n){if("object"==typeof n&&n&&!(n instanceof EventTarget))if(w in n)ue(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];"object"==typeof t&&t&&w in t&&ue(t)}}(e.s);if(n){let n=0,t={};const l=Z((()=>{let r=!1;const l=e.s;for(const n in l)l[n]!==t[n]&&(t[n]=l[n],r=!0);return r&&n++,n}));r=()=>ee(l)}var l;t.b.length&&(l=()=>{qe(e,r),f(t.b)},nn(),ln(l)),tn((()=>{const n=te((()=>t.m.map(s)));return()=>{for(const e of n)"function"==typeof e&&e()}})),t.a.length&&tn((()=>{qe(e,r),f(t.a)}))}function qe(n,e){if(n.l.s)for(const t of n.l.s)ee(t);e()}let Re=!1;function ze(n,e,t){const r=t[e]??(t[e]={store:null,source:P(void 0),unsubscribe:a});if(r.store!==n)if(r.unsubscribe(),r.store=n??null,null==n)r.source.v=void 0,r.unsubscribe=a;else{var l=!0;r.unsubscribe=function(n,e,t){if(null==n)return e(void 0),a;const r=te((()=>n.subscribe(e,t)));return r.unsubscribe?()=>r.unsubscribe():r}(n,(n=>{l?r.source.v=n:A(r.source,n)})),l=!1}return ee(r.source)}function Fe(){const n={};return function(n){const e=en(8,null,!1);le(e,p),e.teardown=n}((()=>{for(var e in n){n[e].unsubscribe()}})),n}function Ie(n){for(var e=An,t=An;null!==e&&!(96&e.f);)e=e.parent;try{return Cn(e),n()}finally{Cn(t)}}function Je(n,e,t,l){var o,i,u=!!(1&t),a=!$||!!(2&t),s=!!(8&t),f=!!(16&t),c=!1;s?[i,c]=function(n){var e=Re;try{return Re=!1,[n(),Re]}finally{Re=e}}((()=>n[e])):i=n[e];var v,d=w in n||x in n,p=(null==(o=r(n,e))?void 0:o.set)??(d&&s&&e in n?t=>n[e]=t:void 0),h=l,m=!0,g=!1,y=()=>(g=!0,m&&(m=!1,h=f?te(l):l),h);if(void 0===i&&void 0!==l&&(p&&a&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),i=y(),p&&p(i)),a)v=()=>{var t=n[e];return void 0===t?y():(m=!0,g=!1,t)};else{var _=Ie((()=>(u?Z:U)((()=>n[e]))));_.f|=131072,v=()=>{var n=ee(_);return void 0!==n&&(h=void 0),void 0===n?h:n}}if(!(4&t))return v;if(p){var b=n.$$legacy;return function(n,e){return arguments.length>0?(a&&e&&!b&&!c||p(e?v():n),n):v()}}var S=!1,k=P(i),E=Ie((()=>Z((()=>{var n=v(),e=ee(k);return S?(S=!1,e):k.v=n}))));return u||(E.equals=O),function(n,e){if(arguments.length>0){const t=e?ee(E):a&&s?q(n):n;return E.equals(t)||(S=!0,A(k,t),g&&void 0!==h&&(h=t),te((()=>ee(E)))),n}return ee(E)}}function Ve(n){var e,t;null===In&&function(){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}(),$&&null!==In.l?(e=In,t=e.l,t.u??(t.u={a:[],b:[],m:[]})).m.push(n):tn((()=>{const e=te(n);if("function"==typeof e)return e}))}const Be=[];const He=function(n,e=a){let t=null;const r=new Set;function l(e){if(E(n,e)&&(n=e,t)){const e=!Be.length;for(const t of r)t[1](),Be.push(t,n);if(e){for(let n=0;n<Be.length;n+=2)Be[n][0](Be[n+1]);Be.length=0}}}function o(e){l(e(n))}return{set:l,update:o,subscribe:function(i,u=a){const s=[i,u];return r.add(s),1===r.size&&(t=e(l,o)||a),i(n),()=>{r.delete(s),0===r.size&&t&&(t(),t=null)}}}}({});"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("5"),$=!0;let Ke=q({repid:"",pid:"",rid:""});function We(n,e,t){e(),t()}var Ze=ge("<input>"),Ue=ge('<button class="m-btn m-cancel">cancel</button>'),Ye=ge('to <span class="m-at"> </span>',1),Ge=ge("Submit <!>",1),Qe=ge('<div class="m-submit"><div class="m-input"></div> <div class="m-content"><textarea spellcheck="false" rows="5" placeholder="Currently does not support markdown. ♥️ "></textarea> <div class="m-state"><span class="m-word"> </span> <span class="m-limit"></span></div></div> <div class="m-tool"><!> <button class="m-send m-btn"><!></button></div></div>');function Xe(n,e){oe(e,!0);const t=Fe(),r=ze(He,"$options",t),l="email",o="site",i="content",u=/^\w+([-.]\w+)*@\w+([-.]\w+)*(\.[a-z]{2,8})+$/,a=/^(https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z]{2,6})+)/;let s=M(!1),f=M(!1),c={},v=Je(e,"at",3,"");Ve((()=>{!function(){try{c=JSON.parse(localStorage.getItem("Memo_Form"))||{};for(const[n,e]of Object.entries(c))p[n].value=e||""}catch(n){c={}}}(),h()}));const d=[{name:"name",placeholder:"nick* ( 2-8 )",type:"text"},{name:l,placeholder:"email* ( @ )",type:l},{name:o,placeholder:"site ( https? )",type:o}];let p=q({name:{value:"",is:!1,limit:8},email:{value:"",is:!1},site:{value:"",is:!0},content:{value:"",is:!1}});function h(){const{name:n,email:e,site:t,content:r}=p,l=n=>n.value.length;l(n)>1&&l(n)<n.limit?n.is=!0:n.is=!1,l(e)>1&&u.test(e.value)?e.is=!0:e.is=!1,0===l(t)||l(t)>1&&a.test(t.value)?t.is=!0:t.is=!1,l(r)>2&&l(r)<=100?r.is=!0:r.is=!1,A(f,q(n.is&&e.is&&t.is&&r.is))}function m(){for(const[n,e]of Object.entries(p))c[n]=e.value.trim();localStorage.Memo_Form=JSON.stringify(c)}function g(){Ke.pid="",Ke.rid="",Ke.repid=""}var y=Qe(),_=H(y);Ee(_,21,(()=>d),ke,((n,e)=>{var t=Ze();t.__input=[We,m,h],on((()=>{var n,r,l,o;Me(t,"type",ee(e).type),n=t,r=`m-${ee(e).name??""}`,l=n.__className,o=function(n){return null==n?"":n}(r),l!==o&&(null==r?n.removeAttribute("class"):n.className=o,n.__className=o),Me(t,"placeholder",ee(e).placeholder),Te(t,"m-error",!p[ee(e).name].is)})),Ae(t,(()=>p[ee(e).name].value),(n=>p[ee(e).name].value=n)),ye(n,t)}));var b=W(_,2),w=H(b);Me(w,"name",i),w.__input=[We,m,h];var x=H(W(w,2)),S=H(x);W(x,2).textContent=100;var k=H(W(b,2)),E=n=>{var e=Ue();e.__click=g,ye(n,e)};Se(k,(n=>{Ke.repid&&n(E)}));var O=W(k,2);O.__click=async function(){try{if(!ee(s)&&!ee(f))return;const n={path:location.pathname,name:p.name.value,email:p.email.value,site:p.site.value,body:p.content.value,pid:Ke.pid,rid:Ke.rid};A(s,!0);const e=await(async(n,e)=>{const t=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(e)});return await t.json()})(`${r.url}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});console.log(e)}catch(n){console.error("sendError:",n.message)}finally{A(s,!1)}};var $=H(O),N=n=>{ye(n,function(n=""){var e=J(n+"");return me(e,e),e}("Loading ..."))},j=n=>{var e=Ge(),t=W(K(e)),r=n=>{var e=Ye(),t=H(W(K(e)));on((()=>_e(t,v()))),ye(n,e)};Se(t,(n=>{v()&&n(r)})),ye(n,e)};Se($,(n=>{ee(s)&&ee(f)?n(N):n(j,!1)})),on((()=>{Te(b,"m-error",!p[i].is),_e(S,p.content.value.length),O.disabled=ee(s)||!ee(f)})),Ae(w,(()=>p.content.value),(n=>p.content.value=n)),ye(n,y),ie()}pe(["input","click"]);var nt=ge("<a> </a>"),et=(n,e,t)=>{e()(ee(t)._id,ee(t).pid)},tt=ge('<span class="m-at"> </span>'),rt=(n,e)=>{e(!0)},lt=ge('<button class="m-remand">Expand <span class="m-more-count"> </span> comments</button>'),ot=ge("<!> <!>",1),it=ge('<div class="m-card"><div class="m-head"><div class="m-info"><div class="m-nick"><!> </div> <time class="m-meta"> </time></div> <button class="m-reply">回复</button></div> <div class="m-comment"><div class="m-body"><!> </div> <!> <!></div></div>');function ut(n,e){oe(e,!0);let t=Je(e,"isMore",7,!1),r=Je(e,"onReply",3,((n,e)=>{Ke.pid=e||n,Ke.rid=e?n:"",Ke.repid=n||e}));var l,o,i,u=(l=document.createDocumentFragment(),o=document.createComment(""),i=J(),l.append(o,i),me(o,i),l);Ee(K(u),17,(()=>e.list),ke,((n,e)=>{var l=it(),o=H(l),i=H(o),u=H(i),a=H(u),s=n=>{var t=nt(),r=H(t);on((()=>{Me(t,"href",ee(e).site),_e(r,ee(e).name)})),ye(n,t)};Se(a,(n=>{ee(e).site&&n(s)}));var f=W(a),c=W(u,2);on((()=>Me(c,"datetime",new Date(ee(e).date).toString())));var v=H(c);on((()=>_e(v,function(n){const e=new Date(n),t=n=>String(n).padStart(2,"0"),[r,l,o,i,u]=[e.getFullYear(),t(e.getMonth()+1),t(e.getDate()),t(e.getHours()),t(e.getMinutes())];return`${r}-${l}-${o} ${i}:${u}`}(ee(e).date)))),W(i,2).__click=[et,r,e];var d=H(W(o,2)),p=H(d),h=n=>{var t=tt(),r=H(t);on((()=>_e(r,ee(e).at))),ye(n,t)};Se(p,(n=>{ee(e).at&&n(h)}));var m=W(p),g=W(d,2),y=n=>{Xe(n,{get at(){return ee(e).name}})};Se(g,(n=>{Ke.repid===ee(e)._id&&n(y)}));var _=W(g,2),b=n=>{var r=ot(),l=K(r),o=Z((()=>t()?ee(e).reply:ee(e).reply.slice(0,3)));ut(l,{get list(){return ee(o)}});var i=W(l,2),u=n=>{var r=lt();r.__click=[rt,t];var l=W(H(r)),o=H(l);on((()=>_e(o,ee(e).reply.length-3))),ye(n,r)};Se(i,(n=>{!t()&&ee(e).reply.length>3&&n(u)})),ye(n,r)};Se(_,(n=>{ee(e).reply&&ee(e).reply.length&&n(b)})),on((()=>{_e(f,` ${ee(e).name??""}`),_e(m,` ${ee(e).body??""}`)})),ye(n,l)})),ye(n,u),ie()}pe(["click"]);var at=ge('<div class="m-cards"><!> <button>more</button></div>');function st(n,e){oe(e,!0);const t=Fe();let r=ze(He,"$options",t),l=0,o=M(q([])),i=M(!1);async function u(){A(i,!0),console.log(`${r.url}comment/${l}/5?p=${r.path}`);const{ok:n,data:e,message:t,max:u}=await(async n=>{const e=await fetch(n),t=await e.json();return console.log(t),t})(`${r.url}comment/${l}/5?p=${r.path}`);A(o,q([...e,...ee(o)])),console.log("commentlist:",ee(o))}Ve((()=>{u()}));var a=at(),s=H(a);ut(s,{get list(){return ee(o)}}),W(s,2).__click=async function(){l++,u()},ye(n,a),ie()}pe(["click"]);var ft=ge('<h2 class="m-title">发表评论</h2> <!>',1),ct=ge('<div id="щ"><h2 class="m-title">文章评论</h2> <!> <!></div>');function vt(n,e){oe(e,!1),Le();var t=ct(),r=W(H(t),2);st(r,{});var l=W(r,2),o=n=>{var e=ft();Xe(W(K(e),2),{}),ye(n,e)};Se(l,(n=>{Ke.repid||n(o)})),ye(n,t),ie()}return window.MemoTalk={init:function(n){n=n||{};const e={url:"/",el:"memo-talk",path:location.pathname,vist:!0};He.set(Object.assign(e,n)),be(vt,{target:document.getElementById(n.el)})}}}));
